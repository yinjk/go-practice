//@Desc
//@Date 2019-10-14 21:06
//@Author yinjk
package main

import (
	"flag"
	"fmt"
	"github.com/hashicorp/go-uuid"
	"log"
	"os"
	"strconv"
	"strings"
	"time"
)

var (
	filePath string
	n        int
	c        int
	t        string
)

func init() {
	flag.StringVar(&filePath, "p", "/data/test", "the path for log print")
	flag.IntVar(&n, "n", 1000, "the number of log written per seconds")
	flag.IntVar(&c, "c", 1, "the concurrency of service invocation for test")
	flag.StringVar(&t, "t", "1m", "the time for test program run")
	flag.Parse()
	if filePath[len(filePath)-1] != '/' {
		filePath = filePath + "/"
	}
}

// CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o log-provider .
func main() {
	completed := make(chan int)
	for i := 1; i <= c; i++ {
		go writtenLog(i, completed)
	}
	count := 0
	for {
		select {
		case <-completed:
			count++
			if count == c {
				return
			}
		}
	}
}

func writtenLog(id int, completed chan int) {
	if !Exists(filePath) {
		if err := os.MkdirAll(filePath, 0666); err != nil {
			panic(err)
		}
	}
	if !Exists(filePath + "apm" + strconv.Itoa(id) + ".log") {
		_, _ = os.Create(filePath + "apm" + strconv.Itoa(id) + ".log")
	}

	f, err := os.OpenFile(filePath+"apm"+strconv.Itoa(id)+".log", os.O_WRONLY|os.O_APPEND, 0666)
	if err != nil {
		panic(err)
	}
	duration, err := time.ParseDuration(t)
	if err != nil {
		panic(err)
	}

	timer := time.NewTimer(0)
	shutdown := time.NewTimer(duration)
	start := time.Now()
	execCount := 0
	for {
		select {
		case <-timer.C:
			timer.Reset(time.Second)
			now := time.Now()
			for i := 0; i < n; i++ {
				if _, err := f.Write([]byte(provideLog())); err != nil {
					log.Fatalf("write file failed, err=%v", err)
				}
			}
			execCount++
			nanoseconds := time.Now().Sub(now).Nanoseconds()
			fmt.Println(fmt.Sprintf("[id: %d] - [%d] this write times: %d ms %d us", id, execCount, nanoseconds/1000000, nanoseconds/1000))
		case <-shutdown.C: //结束信号
			log.Printf("exec count: %d, time duration is: %v", execCount, time.Now().Sub(start))
			completed <- 1
			return

		}
	}
}

// traceId: 0DCN001TRANSFER001566174000000000
func provideLog() string {
	var examleLog = `
s|++++--++++722088|242020|+++traceId+++|1000000front000001573659665001621|+++traceId+++|C00001|A00001|000000|10.0.1.213|front|front00000|WL0TFR01|0||requestBodyLength:1452,remoteIp:10.253.1.1
c|++++--++++723079|240783|+++traceId+++|1000000front000001573659665001622|1000000front000001573659665001621|C00001|A00001|000000|10.0.1.213|front-reverse|frontrvs-0|WL0TFR01|||
c|++++--++++913034|1933|+++traceId+++|1WL0001dawlctd1001573659665000001|1BSCM01wl0tfr01001573659665000015|C00001|A00001|WL0001|10.0.1.213|dawlctd1|dawlctd1-0|DTS_AGENT_ENLIST|0||
s|++++--++++911571|9767|+++traceId+++|1BSCM01wl0tfr01001573659665000015|1000000front000001573659665001622|C00001|A00001|WL0001|10.0.1.213|dawlctd1|dawlctd1-0|DAWLCTD1|||
c|++++--++++924559|1884|+++traceId+++|1WL0001dawlctd1001573659665000002|1BSCM01wl0tfr01001573659665000016|C00001|A00001|WL0001|10.0.1.213|dawlctd1|dawlctd1-0|DTS_AGENT_ENLIST|0||
s|++++--++++924003|7719|+++traceId+++|1BSCM01wl0tfr01001573659665000016|1000000front000001573659665001622|C00001|A00001|WL0001|10.0.1.213|dawlctd1|dawlctd1-0|DAWLCTD1|||
s|++++--++++936341|5484|+++traceId+++|100000000000A01D51573659665000008|1BSCM01wl0tfr01001573659665000004|C00001|A00001|WL0001|10.0.1.213|dawlctd1|dawlctd1-0|DAWLCTD1_CONFIRM|||
s|++++--++++936360|7306|+++traceId+++|100000000000A01D51573659665000011|1BSCM01wl0tfr01001573659665000004|C00001|A00001|WL0001|10.0.1.213|dawlctd1|dawlctd1-0|DAWLCTD1_CONFIRM|||
s|++++--++++770566|6227|+++traceId+++|1BSCM01sv1trsf1001573659665000005|1BSCM01wl0tfr01001573659665000012|C00001|A00001|SV0001|10.0.1.68|dasvctf0|dasvctf0-0|DASVCTF0|||
c|++++--++++841033|2001|+++traceId+++|1BSCM01sv1accr1001573659665000001|1BSCM01sv1trsf1001573659665000007|C00001|A00001|BSCM01|10.0.1.68|sv1accr1|sv1accr1-0|DTS_AGENT_ENLIST|0||
c|++++--++++844912|3500|+++traceId+++|1BSCM01sv1accr1001573659665000002|1BSCM01sv1trsf1001573659665000007|C00001|A00001|BSCM01|10.0.1.68|sv1accr1|sv1accr1-0|DASVRCI1|||
c|++++--++++849879|3631|+++traceId+++|1BSCM01sv1accr1001573659665000003|1BSCM01sv1trsf1001573659665000007|C00001|A00001|BSCM01|10.0.1.68|sv1accr1|sv1accr1-0|DACUR002|||
c|++++--++++854610|33222|+++traceId+++|1BSCM01sv1accr1001573659665000004|1BSCM01sv1trsf1001573659665000007|C00001|A00001|BSCM01|10.0.1.68|sv1accr1|sv1accr1-0|AC1DPP03|||
c|++++--++++889188|11272|+++traceId+++|1BSCM01sv1accr1001573659665000005|1BSCM01sv1trsf1001573659665000007|C00001|A00001|BSCM01|10.0.1.68|sv1accr1|sv1accr1-0|DASVCTD0|||
s|++++--++++839706|61585|+++traceId+++|1BSCM01sv1trsf1001573659665000007|1BSCM01wl0tfr01001573659665000012|C00001|A00001|BSCM01|10.0.1.68|sv1accr1|sv1accr1-0|SV1ACCR1|||
s|++++--++++936205|524|+++traceId+++|100000000000A01D51573659665000015|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.68|sv1accr1|sv1accr1-0|SV1ACCR1_CONFIRM|0||
s|++++--++++730641|1437|+++traceId+++|1BSCM01wl0tfr01001573659665000007|1000000front000001573659665001622|C00001|A00001|CM0001|10.0.1.132|dacmdref|dacmdref-0|DACMDREF|||
c|++++--++++795350|1683|+++traceId+++|1BSCM01ac1dpp02001573659665000002|1BSCM01sv1acdr1001573659665000008|C00001|A00001|BSCM01|10.0.1.132|ac1dpp02|ac1dpp02-0|DTS_AGENT_ENLIST|0||
c|++++--++++797984|3707|+++traceId+++|1BSCM01ac1dpp02001573659665000002|1BSCM01sv1acdr1001573659665000008|C00001|A00001|BSCM01|10.0.1.132|ac1dpp02|ac1dpp02-0|DAACRDP0|||
c|++++--++++802503|19005|+++traceId+++|1BSCM01ac1dpp02001573659665000003|1BSCM01sv1acdr1001573659665000008|C00001|A00001|BSCM01|10.0.1.132|ac1dpp02|ac1dpp02-0|DAACUDP0|||
c|++++--++++822290|-1|+++traceId+++|1BSCM01ac1dpp02001573659665000004|1BSCM01sv1acdr1001573659665000008|C00001|A00001|BSCM01|10.0.1.132|ac1dpp02|ac1dpp02-0|DACMCFW0|||
s|++++--++++794307|28432|+++traceId+++|1BSCM01sv1acdr1001573659665000008|1BSCM01sv1trsf1001573659665000006|C00001|A00001|BSCM01|10.0.1.132|ac1dpp02|ac1dpp02-0|AC1DPP02|||
s|++++--++++936350|624|+++traceId+++|100000000000A01D51573659665000007|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.132|ac1dpp02|ac1dpp02-0|AC1DPP02_CONFIRM|0||
c|++++--++++805500|1929|+++traceId+++|1AC0001daacudp0001573659665000001|1BSCM01ac1dpp02001573659665000003|C00001|A00001|AC0001|10.0.1.132|daacudp0|daacudp0-0|DTS_AGENT_ENLIST|0||
c|++++--++++826621|1855|+++traceId+++|1SV0001dasvctd0001573659665000001|1BSCM01sv1acdr1001573659665000009|C00001|A00001|SV0001|10.0.1.132|dasvctd0|dasvctd0-0|DTS_AGENT_ENLIST|0||
s|++++--++++803907|17200|+++traceId+++|1BSCM01ac1dpp02001573659665000003|1BSCM01sv1acdr1001573659665000008|C00001|A00001|AC0001|10.0.1.132|daacudp0|daacudp0-0|DAACUDP0|||
c|++++--++++869165|1745|+++traceId+++|1AC0001daacudp0001573659665000002|1BSCM01ac1dpp03001573659665000002|C00001|A00001|AC0001|10.0.1.132|daacudp0|daacudp0-0|DTS_AGENT_ENLIST|0||
s|++++--++++868628|9721|+++traceId+++|1BSCM01ac1dpp03001573659665000002|1BSCM01sv1accr1001573659665000004|C00001|A00001|AC0001|10.0.1.132|daacudp0|daacudp0-0|DAACUDP0|||
s|++++--++++936165|7532|+++traceId+++|100000000000A01D51573659665000006|1BSCM01wl0tfr01001573659665000004|C00001|A00001|AC0001|10.0.1.132|daacudp0|daacudp0-0|DAACUDP0_CONFIRM|0||
s|++++--++++936905|8705|+++traceId+++|100000000000A01D51573659665000013|1BSCM01wl0tfr01001573659665000004|C00001|A00001|AC0001|10.0.1.132|daacudp0|daacudp0-0|DAACUDP0_CONFIRM|0||
s|++++--++++825331|9939|+++traceId+++|1BSCM01sv1acdr1001573659665000009|1BSCM01sv1trsf1001573659665000006|C00001|A00001|SV0001|10.0.1.132|dasvctd0|dasvctd0-0|DASVCTD0|||
c|++++--++++891087|2001|+++traceId+++|1SV0001dasvctd0001573659665000002|1BSCM01sv1accr1001573659665000005|C00001|A00001|SV0001|10.0.1.132|dasvctd0|dasvctd0-0|DTS_AGENT_ENLIST|0||
s|++++--++++890467|9472|+++traceId+++|1BSCM01sv1accr1001573659665000005|1BSCM01sv1trsf1001573659665000007|C00001|A00001|SV0001|10.0.1.132|dasvctd0|dasvctd0-0|DASVCTD0|||
s|++++--++++936709|7117|+++traceId+++|100000000000A01D51573659665000014|1BSCM01wl0tfr01001573659665000004|C00001|A00001|SV0001|10.0.1.132|dasvctd0|dasvctd0-0|DASVCTD0_CONFIRM|||
s|++++--++++936930|24692|+++traceId+++|100000000000A01D51573659665000016|1BSCM01wl0tfr01001573659665000004|C00001|A00001|SV0001|10.0.1.132|dasvctd0|dasvctd0-0|DASVCTD0_CONFIRM|||
c|++++--++++857706|2586|+++traceId+++|1BSCM01ac1dpp03001573659665000001|1BSCM01sv1accr1001573659665000004|C00001|A00001|BSCM01|10.0.1.132|ac1dpp03|ac1dpp03-0|DTS_AGENT_ENLIST|0||
c|++++--++++862523|3615|+++traceId+++|1BSCM01ac1dpp03001573659665000001|1BSCM01sv1accr1001573659665000004|C00001|A00001|BSCM01|10.0.1.132|ac1dpp03|ac1dpp03-0|DAACRDP0|||
c|++++--++++867346|11505|+++traceId+++|1BSCM01ac1dpp03001573659665000002|1BSCM01sv1accr1001573659665000004|C00001|A00001|BSCM01|10.0.1.132|ac1dpp03|ac1dpp03-0|DAACUDP0|||
c|++++--++++886642|-1|+++traceId+++|1BSCM01ac1dpp03001573659665000003|1BSCM01sv1accr1001573659665000004|C00001|A00001|BSCM01|10.0.1.132|ac1dpp03|ac1dpp03-0|DACMCFW0|||
s|++++--++++856214|30989|+++traceId+++|1BSCM01sv1accr1001573659665000004|1BSCM01sv1trsf1001573659665000007|C00001|A00001|BSCM01|10.0.1.132|ac1dpp03|ac1dpp03-0|AC1DPP03|||
s|++++--++++936886|645|+++traceId+++|100000000000A01D51573659665000012|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.132|ac1dpp03|ac1dpp03-0|AC1DPP03_CONFIRM|0||
s|++++--++++785316|2066|+++traceId+++|1BSCM01sv1acdr1001573659665000006|1BSCM01sv1trsf1001573659665000006|C00001|A00001|SV0001|10.0.1.213|dasvrci1|dasvrci1-0|DASVRCI1|||
s|++++--++++846057|1803|+++traceId+++|1BSCM01sv1accr1001573659665000002|1BSCM01sv1trsf1001573659665000007|C00001|A00001|SV0001|10.0.1.213|dasvrci1|dasvrci1-0|DASVRCI1|||
s|++++--++++726730|513|+++traceId+++|1BSCM01wl0tfr01001573659665000003|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_REGISTER|0||
s|++++--++++745640|396|+++traceId+++|1BSCM01wl1pin02001573659665000002|1BSCM01wl0tfr01001573659665000010|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++766856|361|+++traceId+++|1BSCM01sv1trsf1001573659665000004|1BSCM01wl0tfr01001573659665000012|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++782710|315|+++traceId+++|1BSCM01sv1acdr1001573659665000005|1BSCM01sv1trsf1001573659665000006|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++796376|300|+++traceId+++|1BSCM01ac1dpp02001573659665000002|1BSCM01sv1acdr1001573659665000008|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++806663|301|+++traceId+++|1AC0001daacudp0001573659665000001|1BSCM01ac1dpp02001573659665000003|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++827710|314|+++traceId+++|1SV0001dasvctd0001573659665000001|1BSCM01sv1acdr1001573659665000009|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++842209|345|+++traceId+++|1BSCM01sv1accr1001573659665000001|1BSCM01sv1trsf1001573659665000007|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++859451|292|+++traceId+++|1BSCM01ac1dpp03001573659665000001|1BSCM01sv1accr1001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++870261|273|+++traceId+++|1AC0001daacudp0001573659665000002|1BSCM01ac1dpp03001573659665000002|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++892368|309|+++traceId+++|1SV0001dasvctd0001573659665000002|1BSCM01sv1accr1001573659665000005|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++914141|338|+++traceId+++|1WL0001dawlctd1001573659665000001|1BSCM01wl0tfr01001573659665000015|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
s|++++--++++925783|333|+++traceId+++|1WL0001dawlctd1001573659665000002|1BSCM01wl0tfr01001573659665000016|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_ENLIST|0||
c|++++--++++934790|2125|+++traceId+++|100000000000A01D51573659665000009|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|SV1ACDR1_CONFIRM|0||
c|++++--++++934592|2430|+++traceId+++|100000000000A01D51573659665000015|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|SV1ACCR1_CONFIRM|0||
c|++++--++++934990|2219|+++traceId+++|100000000000A01D51573659665000007|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|AC1DPP02_CONFIRM|0||
c|++++--++++935074|2167|+++traceId+++|100000000000A01D51573659665000010|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|WL1PIN02_CONFIRM|0||
c|++++--++++934686|2660|+++traceId+++|100000000000A01D51573659665000005|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|SV1TRSF1_CONFIRM|0||
c|++++--++++935310|3091|+++traceId+++|100000000000A01D51573659665000012|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|AC1DPP03_CONFIRM|0||
c|++++--++++935139|6999|+++traceId+++|100000000000A01D51573659665000008|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DAWLCTD1_CONFIRM|||
c|++++--++++934883|9079|+++traceId+++|100000000000A01D51573659665000006|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DAACUDP0_CONFIRM|0||
c|++++--++++935202|8777|+++traceId+++|100000000000A01D51573659665000011|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DAWLCTD1_CONFIRM|||
c|++++--++++935432|8593|+++traceId+++|100000000000A01D51573659665000014|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DASVCTD0_CONFIRM|||
c|++++--++++935533|10325|+++traceId+++|100000000000A01D51573659665000013|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DAACUDP0_CONFIRM|0||
c|++++--++++935637|26331|+++traceId+++|100000000000A01D51573659665000016|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DASVCTD0_CONFIRM|||
s|++++--++++933897|28415|+++traceId+++|1BSCM01wl0tfr01001573659665000004|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|DTS001|dts-agent-6hhnh|DTS_AGENT_TRY_RESULT_REPORT|0||
c|++++--++++725527|2059|+++traceId+++|1BSCM01wl0tfr01001573659665000003|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DTS_AGENT_REGISTER|0||
c|++++--++++728521|3893|+++traceId+++|1BSCM01wl0tfr01001573659665000007|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DACMDREF|||
c|++++--++++733248|3751|+++traceId+++|1BSCM01wl0tfr01001573659665000008|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DACMRRSA|||
c|++++--++++737860|2593|+++traceId+++|1BSCM01wl0tfr01001573659665000009|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DACMRRSA|||
c|++++--++++742150|15664|+++traceId+++|1BSCM01wl0tfr01001573659665000010|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|WL1PIN02|||
c|++++--++++758758|3543|+++traceId+++|1BSCM01wl0tfr01001573659665000011|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DAWLRBI0|||
c|++++--++++762910|141156|+++traceId+++|1BSCM01wl0tfr01001573659665000012|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|SV1TRSF1|||
c|++++--++++905140|4201|+++traceId+++|1BSCM01wl0tfr01001573659665000013|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DAWLRBI0|||
c|++++--++++910322|11482|+++traceId+++|1BSCM01wl0tfr01001573659665000015|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DAWLCTD1|||
c|++++--++++922775|9373|+++traceId+++|1BSCM01wl0tfr01001573659665000016|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DAWLCTD1|||
c|++++--++++932807|29862|+++traceId+++|1BSCM01wl0tfr01001573659665000004|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|DTS_AGENT_TRY_RESULT_REPORT|0||
s|++++--++++724638|238745|+++traceId+++|1000000front000001573659665001622|1000000front000001573659665001621|C00001|A00001|BSCM01|10.0.1.213|wl0tfr01|wl0tfr01-0|WL0TFR01|||
c|++++--++++744481|1904|+++traceId+++|1BSCM01wl1pin02001573659665000002|1BSCM01wl0tfr01001573659665000010|C00001|A00001|BSCM01|10.0.1.213|wl1pin02|wl1pin02-0|DTS_AGENT_ENLIST|0||
c|++++--++++751928|4742|+++traceId+++|1BSCM01wl1pin02001573659665000002|1BSCM01wl0tfr01001573659665000010|C00001|A00001|BSCM01|10.0.1.213|wl1pin02|wl1pin02-0|DAWLVPN0|||
s|++++--++++743445|13935|+++traceId+++|1BSCM01wl0tfr01001573659665000010|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|wl1pin02|wl1pin02-0|WL1PIN02|||
s|++++--++++936318|619|+++traceId+++|100000000000A01D51573659665000010|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|wl1pin02|wl1pin02-0|WL1PIN02_CONFIRM|0||
c|++++--++++765543|2156|+++traceId+++|1BSCM01sv1trsf1001573659665000004|1BSCM01wl0tfr01001573659665000012|C00001|A00001|BSCM01|10.0.1.213|sv1trsf1|sv1trsf1-0|DTS_AGENT_ENLIST|0||
c|++++--++++769130|8153|+++traceId+++|1BSCM01sv1trsf1001573659665000005|1BSCM01wl0tfr01001573659665000012|C00001|A00001|BSCM01|10.0.1.213|sv1trsf1|sv1trsf1-0|DASVCTF0|||
c|++++--++++779238|57531|+++traceId+++|1BSCM01sv1trsf1001573659665000006|1BSCM01wl0tfr01001573659665000012|C00001|A00001|BSCM01|10.0.1.213|sv1trsf1|sv1trsf1-0|SV1ACDR1|||
c|++++--++++838030|64077|+++traceId+++|1BSCM01sv1trsf1001573659665000007|1BSCM01wl0tfr01001573659665000012|C00001|A00001|BSCM01|10.0.1.213|sv1trsf1|sv1trsf1-0|SV1ACCR1|||
s|++++--++++764365|139109|+++traceId+++|1BSCM01wl0tfr01001573659665000012|1000000front000001573659665001622|C00001|A00001|BSCM01|10.0.1.213|sv1trsf1|sv1trsf1-0|SV1TRSF1|||
s|++++--++++936297|648|+++traceId+++|100000000000A01D51573659665000005|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.213|sv1trsf1|sv1trsf1-0|SV1TRSF1_CONFIRM|0||
s|++++--++++789805|2089|+++traceId+++|1BSCM01sv1acdr1001573659665000007|1BSCM01sv1trsf1001573659665000006|C00001|A00001|CU0001|10.0.1.213|dacur002|dacur002-0|DACUR002|||
s|++++--++++851318|1657|+++traceId+++|1BSCM01sv1accr1001573659665000003|1BSCM01sv1trsf1001573659665000007|C00001|A00001|CU0001|10.0.1.213|dacur002|dacur002-0|DACUR002|||
s|++++--++++760092|1814|+++traceId+++|1BSCM01wl0tfr01001573659665000011|1000000front000001573659665001622|C00001|A00001|WL0001|10.0.1.213|dawlrbi0|dawlrbi0-0|DAWLRBI0|||
s|++++--++++907134|1808|+++traceId+++|1BSCM01wl0tfr01001573659665000013|1000000front000001573659665001622|C00001|A00001|WL0001|10.0.1.213|dawlrbi0|dawlrbi0-0|DAWLRBI0|||
s|++++--++++799160|2060|+++traceId+++|1BSCM01ac1dpp02001573659665000002|1BSCM01sv1acdr1001573659665000008|C00001|A00001|AC0001|10.0.1.213|daacrdp0|daacrdp0-0|DAACRDP0|||
s|++++--++++863796|1716|+++traceId+++|1BSCM01ac1dpp03001573659665000001|1BSCM01sv1accr1001573659665000004|C00001|A00001|AC0001|10.0.1.213|daacrdp0|daacrdp0-0|DAACRDP0|||
c|++++--++++781621|1787|+++traceId+++|1BSCM01sv1acdr1001573659665000005|1BSCM01sv1trsf1001573659665000006|C00001|A00001|BSCM01|10.0.1.68|sv1acdr1|sv1acdr1-0|DTS_AGENT_ENLIST|0||
c|++++--++++784274|3552|+++traceId+++|1BSCM01sv1acdr1001573659665000006|1BSCM01sv1trsf1001573659665000006|C00001|A00001|BSCM01|10.0.1.68|sv1acdr1|sv1acdr1-0|DASVRCI1|||
c|++++--++++788714|3707|+++traceId+++|1BSCM01sv1acdr1001573659665000007|1BSCM01sv1trsf1001573659665000006|C00001|A00001|BSCM01|10.0.1.68|sv1acdr1|sv1acdr1-0|DACUR002|||
c|++++--++++793056|30050|+++traceId+++|1BSCM01sv1acdr1001573659665000008|1BSCM01sv1trsf1001573659665000006|C00001|A00001|BSCM01|10.0.1.68|sv1acdr1|sv1acdr1-0|AC1DPP02|||
c|++++--++++824037|11658|+++traceId+++|1BSCM01sv1acdr1001573659665000009|1BSCM01sv1trsf1001573659665000006|C00001|A00001|BSCM01|10.0.1.68|sv1acdr1|sv1acdr1-0|DASVCTD0|||
s|++++--++++780776|55510|+++traceId+++|1BSCM01sv1trsf1001573659665000006|1BSCM01wl0tfr01001573659665000012|C00001|A00001|BSCM01|10.0.1.68|sv1acdr1|sv1acdr1-0|SV1ACDR1|||
s|++++--++++936132|519|+++traceId+++|100000000000A01D51573659665000009|1BSCM01wl0tfr01001573659665000004|C00001|A00001|BSCM01|10.0.1.68|sv1acdr1|sv1acdr1-0|SV1ACDR1_CONFIRM|0||
s|++++--++++753407|2881|+++traceId+++|1BSCM01wl1pin02001573659665000002|1BSCM01wl0tfr01001573659665000010|C00001|A00001|WL0001|10.0.1.68|dawlvpn0|dawlvpn0-0|DAWLVPN0|||
s|++++--++++734526|2129|+++traceId+++|1BSCM01wl0tfr01001573659665000008|1000000front000001573659665001622|C00001|A00001|CM0001|10.0.1.68|dacmrrsa|dacmrrsa-0|DACMRRSA|||
s|++++--++++739035|1119|+++traceId+++|1BSCM01wl0tfr01001573659665000009|1000000front000001573659665001622|C00001|A00001|CM0001|10.0.1.68|dacmrrsa|dacmrrsa-0|DACMRRSA|||
c|++++--++++824232|30000243|+++traceId+++|1CM0001dacmcfw0001573659665000097|1BSCM01ac1dpp02001573659665000004|C00001|A00001|CM0001|10.0.1.68|dacmcfw0|dacmcfw0-0|DTS_AGENT_REGISTER|COMM000001|UkVRVUVTVCBUTyBTRVJWRVJbdG9waWMgaWQgPSBEVFNfQUdFTlRfUkVHSVNURVJdIFRJTUVPVVQ=|
c|++++--++++888641|30000188|+++traceId+++|1CM0001dacmcfw0001573659665000098|1BSCM01ac1dpp03001573659665000003|C00001|A00001|CM0001|10.0.1.68|dacmcfw0|dacmcfw0-0|DTS_AGENT_REGISTER|COMM000001|UkVRVUVTVCBUTyBTRVJWRVJbdG9waWMgaWQgPSBEVFNfQUdFTlRfUkVHSVNURVJdIFRJTUVPVVQ=|`

	//result := make([]string, 0)
	now := time.Now().UnixNano() / 1000000000
	examleLog = strings.ReplaceAll(examleLog, "++++--++++", strconv.Itoa(int(now)))
	generateUUID, _ := uuid.GenerateUUID()
	examleLog = strings.ReplaceAll(examleLog, "+++traceId+++", generateUUID)
	//now := time.Now()
	//for _, v := range strings.Split(examleLog, "\n") {
	//	if v == "" {
	//		continue
	//	}
	//	result = append(result, v)
	//}
	return examleLog
}

func Exists(path string) bool {
	_, err := os.Stat(path) //os.Stat获取文件信息
	if err != nil {
		if os.IsExist(err) {
			return true
		}
		return false
	}
	return true
}
